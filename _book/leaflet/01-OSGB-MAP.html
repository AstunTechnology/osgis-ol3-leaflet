<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>OS-GB Map with Ordnance Survey tiles | Practical OpenLayers 3 &amp; Leaflet</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="../leaflet/02-GEOJSON.html" />
    
    
    <link rel="prev" href="../leaflet/00-OSM-MAP.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="2.2" data-basepath=".." data-revision="1409673984869">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="ol3/README.html">
            
                
                    <a href="../ol3/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         OpenLayers 3
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="ol3/00-OSM-MAP.html">
            
                
                    <a href="../ol3/00-OSM-MAP.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         Basic map with OSM tiles
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="ol3/01-OSGB-MAP.html">
            
                
                    <a href="../ol3/01-OSGB-MAP.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         OS-GB Map with Ordnance Survey tiles
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.3" data-path="ol3/02-GEOJSON.html">
            
                
                    <a href="../ol3/02-GEOJSON.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                         GeoJSON layer with markers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.4" data-path="ol3/03-GEOJSON-INFO.html">
            
                
                    <a href="../ol3/03-GEOJSON-INFO.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                         Info for GeoJSON layer
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.5" data-path="ol3/04-WMS-LAYER.html">
            
                
                    <a href="../ol3/04-WMS-LAYER.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                         WMS layer
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.6" data-path="ol3/05-WMS-INFO.html">
            
                
                    <a href="../ol3/05-WMS-INFO.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                         Info for WMS layer
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="leaflet/README.html">
            
                
                    <a href="../leaflet/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Leaflet
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="leaflet/00-OSM-MAP.html">
            
                
                    <a href="../leaflet/00-OSM-MAP.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         Basic map with OSM tiles
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="2.2" data-path="leaflet/01-OSGB-MAP.html">
            
                
                    <a href="../leaflet/01-OSGB-MAP.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         OS-GB Map with Ordnance Survey tiles
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="leaflet/02-GEOJSON.html">
            
                
                    <a href="../leaflet/02-GEOJSON.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         GeoJSON layer with markers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.4" data-path="leaflet/03-GEOJSON-INFO.html">
            
                
                    <a href="../leaflet/03-GEOJSON-INFO.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                         Info for GeoJSON layer
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.5" data-path="leaflet/04-WMS-LAYER.html">
            
                
                    <a href="../leaflet/04-WMS-LAYER.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                         WMS layer
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.6" data-path="leaflet/05-WMS-INFO.html">
            
                
                    <a href="../leaflet/05-WMS-INFO.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                         Info for WMS layer
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Practical OpenLayers 3 &amp; Leaflet</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_9">
                    
                        <h2 id="os-gb-map-with-ordnance-survey-tiles">OS-GB Map with Ordnance Survey tiles</h2>
<p>Displaying a map in British National Grid (<code>EPSG:27700</code>) with Leaflet requires the <a href="https://github.com/kartena/Proj4Leaflet" target="_blank">Proj4Leaflet</a> plugin which adds <a href="http://proj4js.org/" target="_blank">Proj4js</a>.</p>
<blockquote>
<p>Leaflet comes with built in support for tiles in Spherical Mercator. If you need support for tile layers in other projections, the Proj4Leaflet plugin lets you use tiles in any projection supported by Proj4js, which means support for just about any projection commonly used. - <a href="https://github.com/kartena/Proj4Leaflet" target="_blank">Proj4Leaflet</a></p>
</blockquote>
<p>Unlike OpenLayers coordinates are still expressed in WGS84 as you can see in the call to <code>map.setView</code>.</p>
<p>Replace the contents of <code>leaflet.js</code> with the following and read through the comments for explanation:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// Define a Proj4Leaflet crs instance configured for British National Grid</span>
<span class="hljs-comment">// (EPSG:27700) and the resolutions of our base map</span>
<span class="hljs-keyword">var</span> crs = <span class="hljs-keyword">new</span> L.Proj.CRS(
    <span class="hljs-string">'EPSG:27700'</span>,
    <span class="hljs-string">'+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs'</span>,
    {
        resolutions: [<span class="hljs-number">1600</span>,<span class="hljs-number">800</span>,<span class="hljs-number">400</span>,<span class="hljs-number">200</span>,<span class="hljs-number">100</span>,<span class="hljs-number">50</span>,<span class="hljs-number">25</span>,<span class="hljs-number">10</span>,<span class="hljs-number">5</span>,<span class="hljs-number">2.5</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0.5</span>,<span class="hljs-number">0.25</span>,<span class="hljs-number">0.125</span>,<span class="hljs-number">0.0625</span>]
    }
);

<span class="hljs-comment">// Define a standard Leaflet map specifying our crs instance and define a WMS</span>
<span class="hljs-comment">// base map</span>
<span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> L.Map(<span class="hljs-string">'map'</span>, {
    crs: crs,
    continuousWorld: <span class="hljs-literal">true</span>,
    worldCopyJump: <span class="hljs-literal">false</span>,
    layers: [
        L.tileLayer.wms(<span class="hljs-string">'http://t0.ads.astuntechnology.com/open/osopen/service'</span>, {
            layers: <span class="hljs-string">'osopen'</span>,
            format: <span class="hljs-string">'image/png'</span>,
            maxZoom: <span class="hljs-number">14</span>,
            minZoom: <span class="hljs-number">0</span>,
            continuousWorld: <span class="hljs-literal">true</span>,
            attribution: <span class="hljs-string">'Astun Data Service &amp;copy; Ordnance Survey.'</span>
        })]
});

map.setView([<span class="hljs-number">52.5</span>, -<span class="hljs-number">1.8</span>], <span class="hljs-number">0</span>);
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../leaflet/00-OSM-MAP.html" class="navigation navigation-prev " aria-label="Previous page: Basic map with OSM tiles"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../leaflet/02-GEOJSON.html" class="navigation navigation-next " aria-label="Next page: GeoJSON layer with markers"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
